ASSUME	CS:CGR,DS:CGR
CGR	GROUP	COD,DAT
COD	SEGMENT BYTE
ORG	100H
TRY	PROC
	MOV	SP,100H
	LEA	SI,FN
	LEA	DX,BUF
	DEC	AX
	CALL	LOAD_FILE
	JC	TRYE
	OR	CL,CL
	JNZ	TRYE
;SETUP
	LEA	BX,VTAB
	LEA	SI,BUF
	MOV	DS:[BX],SI
	MOV	WORD PTR DS:[BX+02H],CS
	MOV	DS:[BX+8],CH
	MOV	WORD PTR DS:[BX+9],0C06H
;END SETUP
	MOV	AX,010H
	INT	10H
	LEA	SI,VIEW_
	LEA	DI,VTAB
	PUSH	CS
	POP	ES
	CALL	WW
	MOV	AH,07
	INT	21H
	MOV	AX,3
	INT	10H
	MOV	AX,4C00H
	INT	21H
TRYE:
	MOV	AX,4C01H
	INT	21H
INCLUDE IO.LIB
INCLUDE EGA.LIB
ENDP
ENDS
DAT	SEGMENT BYTE
FN	DB	'TRY.FNT',0
VIEW_	DB	'PAVEL SKRYLEV''S COMPUTER',0
;INCLUDE D:\WORK\LIBRARY\EGA\VIDEO.TBL
VTAB	DW	0,0
	DW	0,0
	DB	0,0,0
	DB	0,0,0,0,0
BUF:
ENDS
END     TRY

